# PgBouncer User List
# Generated by Ansible for {{ inventory_hostname }}
# Format: "username" "password"
# Password format: plain text or md5<hash>

# Primary database user
"{{ pgbouncer_db_user }}" "{{ 'md5' if pgbouncer_auth_type == 'md5' else '' }}{{ pgbouncer_db_password_hash | default(pgbouncer_db_password) }}"

# Additional users
{% if pgbouncer_additional_users is defined %}
{% for user in pgbouncer_additional_users %}
"{{ user.name }}" "{{ 'md5' if pgbouncer_auth_type == 'md5' else '' }}{{ user.password_hash | default(user.password) }}"
{% endfor %}
{% endif %}

# Admin user for pgbouncer console (optional)
{% if pgbouncer_admin_password is defined %}
"pgbouncer" "{{ pgbouncer_admin_password }}"
{% endif %}